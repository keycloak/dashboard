AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3919345Z ##[group]Run EC2_CLUSTER_NAME=keycloak_95e649f
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3919830Z [36;1mEC2_CLUSTER_NAME=keycloak_95e649f[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3920198Z [36;1mAWS_REGION=us-east-1[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3920888Z [36;1mPROPS=' -Dkeycloak.connectionsJpa.jdbcParameters=\"?ssl=true&sslmode=verify-ca&sslrootcert=/opt/keycloak/aws.pem\"'[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3921580Z [36;1m[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3922547Z [36;1mPROPS+=" -Dauth.server.db.host=gh-action-95e649f-10462937028-1.cluster-ctdxeb4izrnc.us-east-1.rds.amazonaws.com -Dkeycloak.connectionsJpa.***"[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3924107Z [36;1mPROPS+=" -Djdbc.mvn.groupId=software.amazon.jdbc -Djdbc.mvn.artifactId=aws-advanced-jdbc-wrapper -Djdbc.mvn.version=2.3.1 -Djdbc.driver.tmp.dir=target/unpacked/keycloak-24.0.4/providers"[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3925086Z [36;1m[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3925340Z [36;1mcd .github/scripts/ansible[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3927330Z [36;1m./mvn_ec2_runner.sh ${AWS_REGION} ${EC2_CLUSTER_NAME} "clean install -B -Dsurefire.rerunFailingTestsCount=2 -Pauth-server-quarkus -Pdb-aurora-postgres -Pauth-server-migration $PROPS -Dtest=MigrationTest -Dmigration.mode=auto -Dmigrated.auth.server.version=24.0.4 -Dmigration.import.file.name=migration-realm-24.0.4.json -Dauth.server.ssl.required=false -f testsuite/integration-arquillian/pom.xml 2>&1 | misc/log/trimmer.sh"[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3929284Z [36;1m[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3929776Z [36;1m# Copy returned surefire-report directories to workspace root to ensure they're discovered[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3930399Z [36;1mresults=(files/keycloak/results/*)[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3930776Z [36;1mrsync -a $results/* ../../../[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3931093Z [36;1m[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3931329Z [36;1mrm -rf $results[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3994757Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3995552Z env:
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3996005Z   MAVEN_ARGS: -B -nsu -Daether.connector.http.connectionMaxTtl=25
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3996650Z   SUREFIRE_RERUN_FAILING_COUNT: 2
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3997058Z   SUREFIRE_RETRY: -Dsurefire.rerunFailingTestsCount=2
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3997458Z   old-version: 24.0.4
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.3997720Z ##[endgroup]
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.4123767Z mvn_params="clean install -B -Dsurefire.rerunFailingTestsCount=2 -Pauth-server-quarkus -Pdb-aurora-postgres -Pauth-server-migration  -Dkeycloak.connectionsJpa.jdbcParameters=\"?ssl=true&sslmode=verify-ca&sslrootcert=/opt/keycloak/aws.pem\" -Dauth.server.db.host=gh-action-95e649f-10462937028-1.cluster-ctdxeb4izrnc.us-east-1.rds.amazonaws.com -Dkeycloak.connectionsJpa.*** -Djdbc.mvn.groupId=software.amazon.jdbc -Djdbc.mvn.artifactId=aws-advanced-jdbc-wrapper -Djdbc.mvn.version=2.3.1 -Djdbc.driver.tmp.dir=target/unpacked/keycloak-24.0.4/providers -Dtest=MigrationTest -Dmigration.mode=auto -Dmigrated.auth.server.version=24.0.4 -Dmigration.import.file.name=migration-realm-24.0.4.json -Dauth.server.ssl.required=false -f testsuite/integration-arquillian/pom.xml 2>&1 | misc/log/trimmer.sh"
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.7918814Z 
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.7919521Z PLAY [keycloak] ****************************************************************
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.7920146Z 
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:33.7920477Z TASK [Gathering Facts] *********************************************************
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.1419800Z ok: [3.81.208.165]
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.1420252Z 
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.1420748Z TASK [mvn_ec2_runner : include_tasks] ******************************************
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.1633667Z included: /home/runner/work/keycloak/keycloak/.github/scripts/ansible/roles/mvn_ec2_runner/tasks/run.yml for 3.81.208.165
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.1635638Z 
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.1635978Z TASK [mvn_ec2_runner : debug] **************************************************
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.1784834Z ok: [3.81.208.165] => {
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.1785569Z     "msg": "Variable `mvn_params` must be set."
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.1786188Z }
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.1786345Z 
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.1786661Z TASK [mvn_ec2_runner : set_fact] ***********************************************
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.2013228Z ok: [3.81.208.165]
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.2013559Z 
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.2013957Z TASK [mvn_ec2_runner : debug] **************************************************
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.2163276Z ok: [3.81.208.165] => {
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.2163962Z     "local_results_dir": "files/keycloak/results/20240820005437"
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.2164643Z }
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.2164839Z 
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:37.2165298Z TASK [mvn_ec2_runner : Cleanup Previous Runs] **********************************
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:39.4084852Z fatal: [3.81.208.165]: FAILED! => {"changed": true, "cmd": "killall java\n", "delta": "0:00:00.008606", "end": "2024-08-20 00:54:39.143382", "msg": "non-zero return code", "rc": 1, "start": "2024-08-20 00:54:39.134776", "stderr": "java: no process found", "stderr_lines": ["java: no process found"], "stdout": "", "stdout_lines": []}
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:39.4086272Z ...ignoring
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:39.4086421Z 
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T00:54:39.4086690Z TASK [mvn_ec2_runner : Run mvn command on the remote hosts] ********************
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5430539Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5431712Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5432646Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5437925Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5439021Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5440081Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5441084Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5442062Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5443029Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5444480Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5445529Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5446648Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5447653Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5448657Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5449678Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5450910Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5451920Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5452938Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5453962Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5454980Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5455994Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5456994Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5458003Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5459002Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5459992Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5460921Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5461918Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5462891Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5463911Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5464867Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5465977Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5466630Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5467595Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5468542Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5469542Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5470534Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5471490Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5472438Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5473432Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5474407Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5475641Z ASYNC POLL on 3.81.208.165: jid=j231190719926.26020 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-20T01:03:20.5476505Z ASYNC FAILED on 3.81.208.165: jid=j231190719926.26020
