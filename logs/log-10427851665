AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7567852Z ##[group]Run EC2_CLUSTER_NAME=keycloak_74fec50
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7568343Z [36;1mEC2_CLUSTER_NAME=keycloak_74fec50[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7568718Z [36;1mAWS_REGION=us-east-1[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7569430Z [36;1mPROPS=' -Dkeycloak.connectionsJpa.jdbcParameters=\"?ssl=true&sslmode=verify-ca&sslrootcert=/opt/keycloak/aws.pem\"'[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7570135Z [36;1m[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7571177Z [36;1mPROPS+=" -Dauth.server.db.host=gh-action-74fec50-10427851665-1.cluster-ctdxeb4izrnc.us-east-1.rds.amazonaws.com -Dkeycloak.connectionsJpa.***"[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7572741Z [36;1mPROPS+=" -Djdbc.mvn.groupId=software.amazon.jdbc -Djdbc.mvn.artifactId=aws-advanced-jdbc-wrapper -Djdbc.mvn.version=2.3.1 -Djdbc.driver.tmp.dir=target/unpacked/keycloak-24.0.4/providers"[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7573734Z [36;1m[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7573986Z [36;1mcd .github/scripts/ansible[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7575991Z [36;1m./mvn_ec2_runner.sh ${AWS_REGION} ${EC2_CLUSTER_NAME} "clean install -B -Dsurefire.rerunFailingTestsCount=2 -Pauth-server-quarkus -Pdb-aurora-postgres -Pauth-server-migration $PROPS -Dtest=MigrationTest -Dmigration.mode=auto -Dmigrated.auth.server.version=24.0.4 -Dmigration.import.file.name=migration-realm-24.0.4.json -Dauth.server.ssl.required=false -f testsuite/integration-arquillian/pom.xml 2>&1 | misc/log/trimmer.sh"[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7577952Z [36;1m[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7578592Z [36;1m# Copy returned surefire-report directories to workspace root to ensure they're discovered[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7579219Z [36;1mresults=(files/keycloak/results/*)[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7579597Z [36;1mrsync -a $results/* ../../../[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7579914Z [36;1m[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7580145Z [36;1mrm -rf $results[0m
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7643445Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7643878Z env:
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7644250Z   MAVEN_ARGS: -B -nsu -Daether.connector.http.connectionMaxTtl=25
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7644728Z   SUREFIRE_RERUN_FAILING_COUNT: 2
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7645145Z   SUREFIRE_RETRY: -Dsurefire.rerunFailingTestsCount=2
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7645555Z   old-version: 24.0.4
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7645943Z ##[endgroup]
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:00.7773451Z mvn_params="clean install -B -Dsurefire.rerunFailingTestsCount=2 -Pauth-server-quarkus -Pdb-aurora-postgres -Pauth-server-migration  -Dkeycloak.connectionsJpa.jdbcParameters=\"?ssl=true&sslmode=verify-ca&sslrootcert=/opt/keycloak/aws.pem\" -Dauth.server.db.host=gh-action-74fec50-10427851665-1.cluster-ctdxeb4izrnc.us-east-1.rds.amazonaws.com -Dkeycloak.connectionsJpa.*** -Djdbc.mvn.groupId=software.amazon.jdbc -Djdbc.mvn.artifactId=aws-advanced-jdbc-wrapper -Djdbc.mvn.version=2.3.1 -Djdbc.driver.tmp.dir=target/unpacked/keycloak-24.0.4/providers -Dtest=MigrationTest -Dmigration.mode=auto -Dmigrated.auth.server.version=24.0.4 -Dmigration.import.file.name=migration-realm-24.0.4.json -Dauth.server.ssl.required=false -f testsuite/integration-arquillian/pom.xml 2>&1 | misc/log/trimmer.sh"
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:01.1750578Z 
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:01.1751455Z PLAY [keycloak] ****************************************************************
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:01.1752147Z 
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:01.1752475Z TASK [Gathering Facts] *********************************************************
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.6392208Z ok: [23.20.212.185]
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.6392662Z 
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.6393175Z TASK [mvn_ec2_runner : include_tasks] ******************************************
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.6611821Z included: /home/runner/work/keycloak/keycloak/.github/scripts/ansible/roles/mvn_ec2_runner/tasks/run.yml for 23.20.212.185
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.6612666Z 
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.6612940Z TASK [mvn_ec2_runner : debug] **************************************************
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.6770088Z ok: [23.20.212.185] => {
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.6770541Z     "msg": "Variable `mvn_params` must be set."
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.6770915Z }
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.6771046Z 
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.6771288Z TASK [mvn_ec2_runner : set_fact] ***********************************************
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.7005175Z ok: [23.20.212.185]
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.7005520Z 
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.7005857Z TASK [mvn_ec2_runner : debug] **************************************************
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.7159416Z ok: [23.20.212.185] => {
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.7160153Z     "local_results_dir": "files/keycloak/results/20240817004902"
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.7160607Z }
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.7160731Z 
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:02.7161010Z TASK [mvn_ec2_runner : Cleanup Previous Runs] **********************************
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:03.5418222Z fatal: [23.20.212.185]: FAILED! => {"changed": true, "cmd": "killall java\n", "delta": "0:00:00.009277", "end": "2024-08-17 00:49:03.452779", "msg": "non-zero return code", "rc": 1, "start": "2024-08-17 00:49:03.443502", "stderr": "java: no process found", "stderr_lines": ["java: no process found"], "stdout": "", "stdout_lines": []}
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:03.5419646Z ...ignoring
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:03.5419801Z 
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:49:03.5420076Z TASK [mvn_ec2_runner : Run mvn command on the remote hosts] ********************
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4215786Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4217060Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4218001Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4219387Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4220004Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4220601Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4221503Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4222293Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4223430Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4224635Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4225731Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4227352Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4228384Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4229400Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4230402Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4231411Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4232387Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4233361Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4234462Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4235081Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4235683Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4236252Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4236805Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4237357Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4237899Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4238445Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4239028Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4239940Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4240524Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4241085Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4241893Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4242478Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4243047Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4243616Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4244183Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4244752Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4245317Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4245869Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4246422Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4246970Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4247751Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4248740Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4249364Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4250039Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4250597Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4251153Z ASYNC POLL on 23.20.212.185: jid=j592335499800.25586 started=1 finished=0
AuroraDB IT	Run Aurora migration tests on EC2	2024-08-17T00:57:43.4251650Z ASYNC FAILED on 23.20.212.185: jid=j592335499800.25586
